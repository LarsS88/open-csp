= Application pages =

{{#if:{{#urldecode:{{#urlget:newpagetitle}} }}
|Create new application page: '''{{#urldecode:{{#urlget:newpagetitle}} }}''' {{#ifexist:{{#urldecode:{{#urlget:newpagetitle}} }} |<span style="color:red">Warning! [[{{#urldecode:{{#urlget:newpagetitle}} }}]] already exists and will be overwritten when submitting</span> }}<br>

<form action="addToWiki" show-on-select="show-on-select">

<_create id="new-application-page-create" mwwrite="{{#urldecode:{{#urlget:newpagetitle}} }}" mwtemplate="Base properties" mwslot="ws-base-props" mwfields="Title,Class" mwfollow />
<_create mwwrite="::id::new-application-page-create" mwtemplate="Csp class properties" mwslot="ws-class-props" mwfields="Type,Origin" />

<input type="hidden" name="Class" value="Application page" />
{{Sidebar item
|Label=Title <span style="color:red">*</span> ''(parameter for Base properties template, not pagetitle)''
|Value=<input type="text" name="Title" class="form-control" required="required" value="{{#urldecode:{{#urlget:newpagetitle}} }}" />
}}
{{Sidebar item
|Label=Type
|Value=<input type="text" name="Type" class="form-control" required="required" value="{{#ask:[[Class::Application page]] [[Page creator::!User:Maintenance script]] |mainlabel=- |?Application page type= |sort=Modification date |order=desc |limit=1 |searchlabel=}}" />
}}
{{Sidebar item
|Label=Origin
|Value=<input type="text" name="Origin" class="form-control" required="required" value="{{#ask:[[Class::Application page]] [[Page creator::!User:Maintenance script]] |mainlabel=- |?Application page origin= |sort=Modification date |order=desc |limit=1 |searchlabel=}}" />
}}<!--

// show option for creating main slot (only for templates, widgets, properties)
-->{{#switch:{{NAMESPACENUMBER:{{#urldecode:{{#urlget:newpagetitle}} }} }}
|10|102|274=
<label for="show-content"><input type="checkbox" show-on-checked="test A" name="showContent" id="show-content" checked="{{#ifexist:{{#urldecode:{{#urlget:newpagetitle}} }} ||checked}}"/> Create main slot</label>
<div show-on-select-trigger="test A">
<wscreate mwwrite="::id::new-application-page-create" mwtemplate="subst:New application page" mwslot="main" mwfields="Content,Has type" /><!--
// when the page is a property page (namespacenumber 102), show field to select a type
-->{{#switch:{{NAMESPACENUMBER:{{#urldecode:{{#urlget:newpagetitle}} }} }}
|102=Has type: {{Csp formfield/token
  |name=Has type
  |value=Page
  |allowedValues=Boolean,Date,Email,Number,Page,Text,URL
  }}
}}<!-- end of Has type #switch -->
</div>
}}<!-- end of NAMESPACENUMBER #switch -->

<input type="submit" value="Save" class="btn btn-primary mt-3" /> 
</form>


<!-- fill type automatically from moest recent one (that's not created by pagesync) -->
|<form action="get">
Create new application page: <input type="text" name="newpagetitle" placeholder="pagetitle" /> <input type="submit" value="Continue" />
</form>
}}

{{#ask:[[Class::Application page]]
|?=Page
|?Title
|?Application page type
|?Application page origin
|?Modification date
|sort=Modification date
|order=desc
|limit=100
}}